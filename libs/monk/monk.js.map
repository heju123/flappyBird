{"version":3,"sources":["webpack:///webpack/bootstrap 18a3eba871760e1ed589","webpack:///./src/js/util/globalUtil.js","webpack:///./src/js/util/commonUtil.js","webpack:///./src/js/ui/components/rect.js","webpack:///./src/js/event/type/event.js","webpack:///./src/js/ui/components/panel.js","webpack:///./src/js/ui/components/component.js","webpack:///./src/js/ui/components/input.js","webpack:///./src/js/main.js","webpack:///./src/js/ui/fps.js","webpack:///./src/js/ui/viewState.js","webpack:///./src/js/ui/components/button.js","webpack:///./src/js/ui/components/router.js","webpack:///./src/js/event/eventBus.js","webpack:///./src/js/event/eventListener.js","webpack:///./src/js/event/type/clickEvent.js","webpack:///./src/js/event/type/mouseEvent.js","webpack:///./src/js/event/type/keyEvent.js","webpack:///./src/js/data/structure/stack.js","webpack:///./src/js/event/eventNotify.js","webpack:///./src/js/util/httpUtil.js","webpack:///./src/js/ui/controller.js"],"names":["globalUtil","commonUtil","asyncLoadedScripts","asyncLoadedScriptsCallbackQueue","getScriptDomFromUrl","url","dom","test","document","createElement","setAttribute","href","type","rel","asyncLoadScript","callback","$this","undefined","push","apply","scriptDom","readyState","onreadystatechange","i","j","length","onload","getElementsByTagName","appendChild","concatList","list","addList","forEach","item","isEmptyObj","obj","key","copyObject","dest","override","result","copyArray","getArrayInfoByKey","arr","value","inArray","object","Rect","parent","cfg","ctx","save","style","borderRadius","setRadiusClip","setParentClip","beginPath","setCommonStyle","backgroundColor","fillStyle","rect","getRealX","getRealY","getWidth","getHeight","fill","backgroundImage","backgroundImageDom","backgroundImageClip","drawImage","borderWidth","bcolor","borderColor","lineWidth","strokeStyle","getRectRadiusPath","stroke","closePath","restore","setClip","text","font","fontSize","fontFamily","textBaseline","row","index","char","cindex","fillText","getTextRealX","parseInt","getTextRealY","lineHeight","getRealXRecursion","getRealYRecursion","clip","radius","padding","x","y","width","height","moveTo","lineTo","arcTo","com","px","py","Event","propagation","immediatePropagation","target","currentTarget","Panel","controller","children","initChildrenCfg","child","doLayout","allWeight","layout","layoutWeight","getAllWeight","allWH","weight","orientation","setWidth","setHeight","Component","eventNotifys","active","originalStyle","viewState","defaultFontFamily","defaultFontSize","multiLine","autoLine","id","getTextForRows","img","Image","src","events","eventInfo","funName","param","getController","registerEvent","bind","childrenCfg","Array","chiCfg","produceChildren","require","default","Input","Button","childCom","asyncGetView","initCfg","appendChildren","viewCfg","resolve","reject","panel","parentArea","inParentArea","focusEnable","hoverEnable","activeEnable","mouseAction","mx","my","isPointInComponent","hoverCom","eventNotify","checkEvent","alpha","globalAlpha","action","hoverComponent","hover","focusComponent","focus","activeComponent","eventBus","captureEvent","parentOf","oriX","getText","textAlign","textLength","toString","indexOf","maxWidth","substring","maxHeight","rowsStr","charWidth","charAt","split","c","map","join","eventType","showTextCursor","showTextCursorInterval","drawTextCursor","selectionEnd","inputListenerDom","textRow","textCursorX","textCursorY","compositionMode","getTextCursorPos","textX","textY","charCount","setSelectionRange","oriY","Main","eleId","mainBody","getElementById","fps","position","left","top","body","setMainView","startLoop","window","Monk","httpUtil","Controller","Fps","canvas","offsetWidth","offsetHeight","getContext","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","init","draw","saveStyle","getChildren","drawView","restoreStyle","fillRect","beforeDraw","rootPanel","afterDraw","ViewState","isViewState","e","onFocus","pageX","pageY","addEventListener","setVal2FocusCom","doNotifyEvent","propagationEvent","setText","val","retCom","getComponentInChildrenByKey","Router","routes","rCfg","name","loader","view","currentRoute","getChildrenView","currentChildren","num","retChild","Promise","then","EventBus","eventListeners","eventNotifyQueue","propagationEventQueue","initDomEvent","attachEvent","createEventNotify","createKeyEventNotify","batchNo","Date","getTime","event","createPropagationStack","listener","set","setSourceEvent","addEventNotify","eventFun","bubble","getTop","pop","getEvent","setTarget","setCurrentTarget","setButton","sourceEvent","button","setPageX","setPageY","setKey","setKeyCode","keyCode","getEventListener","eventListener","EventListener","ClickEvent","MouseEvent","KeyEvent","Stack","data","next","ret","EventNotify","getGetParamStr","normal","str","get","purl","xmlhttp","XMLHttpRequest","ActiveXObject","status","response","open","send","post","errCallback","$","ajax","contentType","JSON","stringify","success","textStatus","jqXHR","error","errorThrown"],"mappings":"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","file":"monk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 18a3eba871760e1ed589","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nlet globalUtil = {\r\n};\r\nexport default globalUtil;\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/globalUtil.js","/**\r\n * Created by heju on 2017/7/14.\r\n */\r\nlet commonUtil = {\r\n    asyncLoadedScripts: {},\r\n    asyncLoadedScriptsCallbackQueue: {},\r\n    getScriptDomFromUrl : (url)=>{\r\n        let dom;\r\n        if (/.+\\.js$/.test(url))\r\n        {\r\n            dom = document.createElement(\"SCRIPT\");\r\n            dom.setAttribute(\"type\", \"text/javascript\");\r\n            dom.setAttribute(\"src\", url);\r\n        }\r\n        else if(/.+\\.css$/.test(url))\r\n        {\r\n            dom = document.createElement('link');\r\n            dom.href = url;\r\n            dom.type = \"text/css\";\r\n            dom.rel=\"stylesheet\";\r\n        }\r\n        return dom;\r\n    },\r\n    /**\r\n     * 异步加载script或css\r\n     */\r\n    asyncLoadScript: (url, callback) => {\r\n        let $this = commonUtil;\r\n        if ($this.asyncLoadedScripts[url] != undefined)//已加载script标签\r\n        {\r\n            if (callback && typeof(callback) == \"function\") {\r\n                if ($this.asyncLoadedScripts[url] == 0)//未执行首个script标签的回调\r\n                {\r\n                    if (!$this.asyncLoadedScriptsCallbackQueue[url]) {\r\n                        $this.asyncLoadedScriptsCallbackQueue[url] = [];\r\n                    }\r\n                    $this.asyncLoadedScriptsCallbackQueue[url].push(callback);\r\n                }\r\n                else {\r\n                    callback.apply($this, []);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        $this.asyncLoadedScripts[url] = 0;\r\n        let scriptDom = $this.getScriptDomFromUrl(url);\r\n        if (scriptDom.readyState) {\r\n            scriptDom.onreadystatechange = function () {\r\n                if (scriptDom.readyState == \"loaded\" || scriptDom.readyState == \"complete\") {\r\n                    scriptDom.onreadystatechange = null;\r\n                    $this.asyncLoadedScripts[url] = 1;\r\n                    if (callback && typeof(callback) == \"function\") {\r\n                        callback.apply($this, []);\r\n                    }\r\n                    if ($this.asyncLoadedScriptsCallbackQueue[url]) {\r\n                        for (let i = 0, j = $this.asyncLoadedScriptsCallbackQueue[url].length; i < j; i++) {\r\n                            $this.asyncLoadedScriptsCallbackQueue[url][i].apply($this, []);\r\n                        }\r\n                        $this.asyncLoadedScriptsCallbackQueue[url] = undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            scriptDom.onload = function () {\r\n                $this.asyncLoadedScripts[url] = 1;\r\n                if (callback && typeof(callback) == \"function\") {\r\n                    callback.apply($this, []);\r\n                }\r\n                if ($this.asyncLoadedScriptsCallbackQueue[url]) {\r\n                    for (let i = 0, j = $this.asyncLoadedScriptsCallbackQueue[url].length; i < j; i++) {\r\n                        $this.asyncLoadedScriptsCallbackQueue[url][i].apply($this, []);\r\n                    }\r\n                    $this.asyncLoadedScriptsCallbackQueue[url] = undefined;\r\n                }\r\n            }\r\n        }\r\n        document.getElementsByTagName('head')[0].appendChild(scriptDom);\r\n    },\r\n    concatList : (list, addList)=>{\r\n        addList.forEach((item)=>{\r\n            list.push(item);\r\n        });\r\n    },\r\n    isEmptyObj : (obj)=>{\r\n        for (let key in obj)\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    /**\r\n     * 复制对象\r\n     * @param obj 待复制的对象\r\n     * @param dest 复制到目标对象\r\n     * @param override 是否覆盖属性，false:如果dest存在相同不为空的属性，则不做复制操作，true:只复制obj不为空的属性\r\n     * @return 复制的目标对象\r\n     */\r\n    copyObject : (obj, dest, override)=>{\r\n        if (override == undefined)\r\n        {\r\n            override = true;\r\n        }\r\n        let result = dest || {};\r\n        for (let key in obj)\r\n        {\r\n            if (!override && result[key])\r\n            {\r\n                continue;\r\n            }\r\n            else\r\n            {\r\n                if (!obj[key] && obj[key] != 0)\r\n                {\r\n                    continue;\r\n                }\r\n                result[key] = obj[key];\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n    copyArray : (obj)=>{\r\n        let result = [];\r\n        for (let i = 0, j = obj.length; i < j; i++)\r\n        {\r\n            if (typeof(obj[i]) == \"object\")\r\n            {\r\n                result[i] = commonUtil.copyObject(obj[i]);\r\n            }\r\n            else\r\n            {\r\n                result[i] = obj[i];\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n    /**\r\n     * 用key值获取数组\r\n     * @param arr 数组\r\n     * @param key 字段名\r\n     * @param value key字段值\r\n     * @return 数组信息\r\n     */\r\n    getArrayInfoByKey : (arr, key, value)=>{\r\n        let item;\r\n        for (let i = 0, j = arr.length; i < j; i++)\r\n        {\r\n            item = arr[i];\r\n            if (item[key] === value)\r\n            {\r\n                return item;\r\n            }\r\n        }\r\n        return undefined;\r\n    },\r\n    /**\r\n     * 判断对象是否在数组中\r\n     * @param arr\r\n     * @param object\r\n     */\r\n    inArray : (arr, object)=>{\r\n        if (arr == undefined || object == undefined)\r\n        {\r\n            return false;\r\n        }\r\n        let item;\r\n        for (let i = 0,j = arr.length; i < j; i++)\r\n        {\r\n            item = arr[i];\r\n            if (item === object)\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n};\r\nexport default commonUtil;\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/commonUtil.js","/**\r\n * Created by heju on 2017/7/14.\r\n */\r\nimport commonUtil from \"../../util/commonUtil.js\";\r\nimport globalUtil from \"../../util/globalUtil.js\";\r\nimport Component from \"./component.js\";\r\n\r\nexport default class Rect extends Component{\r\n    constructor(parent) {\r\n        super(parent);\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n    }\r\n\r\n    draw(ctx){\r\n        if (!super.draw(ctx))\r\n        {\r\n            return false;\r\n        }\r\n        ctx.save();\r\n        if (this.style.borderRadius)\r\n        {\r\n            this.setRadiusClip(ctx, this.style.borderRadius);\r\n        }\r\n        this.setParentClip(ctx);\r\n        ctx.beginPath();\r\n        this.setCommonStyle(ctx);\r\n\r\n        if (this.style.backgroundColor)\r\n        {\r\n            ctx.fillStyle = this.style.backgroundColor;\r\n            ctx.rect(this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n            ctx.fill();\r\n        }\r\n        if (this.style.backgroundImage && this.backgroundImageDom)\r\n        {\r\n            if (this.style.backgroundImageClip)\r\n            {\r\n                ctx.drawImage(this.backgroundImageDom,\r\n                    this.style.backgroundImageClip[0], this.style.backgroundImageClip[1], this.style.backgroundImageClip[2], this.style.backgroundImageClip[3],\r\n                    this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n            }\r\n            else\r\n            {\r\n                ctx.drawImage(this.backgroundImageDom, this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n            }\r\n        }\r\n        if (this.style.borderWidth)\r\n        {\r\n            ctx.beginPath();\r\n            let bcolor = this.style.borderColor || this.style.backgroundColor;\r\n            ctx.lineWidth = this.style.borderWidth;\r\n            ctx.strokeStyle = bcolor;\r\n            if (this.style.borderRadius)\r\n            {\r\n                this.getRectRadiusPath(ctx, this.style.borderRadius, -this.style.borderWidth / 2);\r\n            }\r\n            else\r\n            {\r\n                ctx.rect(this.getRealX() + this.style.borderWidth / 2, this.getRealY() + this.style.borderWidth / 2,\r\n                    this.getWidth() - this.style.borderWidth, this.getHeight() - this.style.borderWidth);\r\n            }\r\n            ctx.stroke();\r\n            ctx.closePath();\r\n        }\r\n        ctx.restore();\r\n\r\n        //绘制文字\r\n        ctx.save();\r\n        this.setClip(ctx);\r\n        ctx.beginPath();\r\n        this.setCommonStyle(ctx);\r\n        if (this.text && this.text.length > 0)\r\n        {\r\n            ctx.font=this.style.fontSize + \" \" + this.style.fontFamily;\r\n            ctx.textBaseline=\"hanging\";\r\n            this.text.forEach((row, index)=>{\r\n                row.forEach((char, cindex)=>{\r\n                    ctx.fillText(char, this.getTextRealX() + cindex * parseInt(this.style.fontSize, 10),\r\n                        this.getTextRealY() + this.style.lineHeight / 2 - parseInt(this.style.fontSize, 10) / 2 + this.style.lineHeight * index);\r\n                });\r\n            });\r\n        }\r\n        ctx.restore();\r\n\r\n        return true;\r\n    }\r\n\r\n    /** 设置后避免超出parent范围 */\r\n    setParentClip(ctx){\r\n        if (this.parent)\r\n        {\r\n            ctx.rect(this.getRealXRecursion(this.parent), this.getRealYRecursion(this.parent), this.parent.getWidth(), this.parent.getHeight());\r\n            ctx.clip();\r\n        }\r\n    }\r\n    /** 设置后避免超出当前组件范围 */\r\n    setClip(ctx){\r\n        ctx.rect(this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n        ctx.clip();\r\n    }\r\n    /**\r\n     * 获取圆角矩形路径\r\n     *\r\n     * @param radius 圆角半径\r\n     * @param padding 整体扩大的像素\r\n     */\r\n    getRectRadiusPath(ctx, radius, padding){\r\n        padding = padding || 0;\r\n        let x = this.getRealX() - padding;\r\n        let y = this.getRealY() - padding;\r\n        let width = this.getWidth() + padding * 2;\r\n        let height = this.getHeight() + padding * 2;\r\n        radius += padding;\r\n        ctx.moveTo(x + radius + padding, y);\r\n        ctx.lineTo(x + width - radius - padding, y);\r\n        ctx.arcTo(x + width, y,x + width, y + radius + padding, radius);\r\n        ctx.lineTo(x + width, y + height - radius - padding);\r\n        ctx.arcTo(x + width, y + height, x + width - radius - padding, y + height, radius);\r\n        ctx.lineTo(x + radius + padding, y + height);\r\n        ctx.arcTo(x, y + height, x, y + height - radius - padding, radius);\r\n        ctx.lineTo(x, y + radius + padding);\r\n        ctx.arcTo(x, y, x + radius + padding, y, radius);\r\n    }\r\n    /**\r\n     * 设置后可以绘出圆角矩形\r\n     *\r\n     * @param radius 圆角半径\r\n     */\r\n    setRadiusClip(ctx, radius){\r\n        //必须完全包含在父组件下才能实现圆角，因为不能连续两次执行clip，是目前的一个缺陷\r\n        if (this.getRealXRecursion(this.parent) + this.parent.getWidth() >= this.getRealX() + this.getWidth()\r\n            && this.getRealXRecursion(this.parent) <= this.getRealX()\r\n            && this.getRealYRecursion(this.parent) + this.parent.getHeight() >= this.getRealY() + this.getHeight()\r\n            && this.getRealYRecursion(this.parent) <= this.getRealY())\r\n        {\r\n            this.getRectRadiusPath(ctx, radius);\r\n            ctx.clip();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 是否在parent区域内\r\n     *\r\n     * @return -1：无parent；0：不在范围内；1：在范围内\r\n     */\r\n    inParentArea(com){\r\n        if (!com.parent)\r\n        {\r\n            return -1;\r\n        }\r\n        else{\r\n            if (this.getRealXRecursion(com.parent) + com.parent.getWidth() < this.getRealX()\r\n                || this.getRealXRecursion(com.parent) > this.getRealX() + com.getWidth()\r\n                || this.getRealYRecursion(com.parent) + com.parent.getHeight() < this.getRealY()\r\n                || this.getRealYRecursion(com.parent) > this.getRealY() + com.getHeight())//不在parent范围内\r\n            {\r\n                return 0;\r\n            }\r\n            else\r\n            {\r\n                return 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 判断鼠标坐标是否在控件范围内\r\n     *\r\n     * @param px 鼠标x\r\n     * @param py 鼠标y\r\n     * @return true：在范围内\r\n     */\r\n    isPointInComponent(px, py){\r\n        if (px >= this.getRealX(this) && px <= this.getRealX(this) + this.getWidth()\r\n            && py >= this.getRealY(this) && py <= this.getRealY(this) + this.getHeight())\r\n        {\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/rect.js","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nexport default class Event {\r\n    constructor(type) {\r\n        this.type = type;\r\n        this.propagation = true;\r\n        this.immediatePropagation = true;\r\n    }\r\n\r\n    setTarget(target) {\r\n        this.target = target;\r\n    }\r\n\r\n    setCurrentTarget(target) {\r\n        this.currentTarget = target;\r\n    }\r\n\r\n    stopPropagation()\r\n    {\r\n        this.propagation = false;\r\n    }\r\n\r\n    stopImmediatePropagation(){\r\n        this.immediatePropagation = false;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/event.js","/**\r\n * Created by heju on 2017/7/20.\r\n */\r\nimport Rect from \"./rect.js\";\r\n\r\nexport default class Panel extends Rect{\r\n    constructor(parent){\r\n        super(parent);\r\n    }\r\n\r\n    initCfg(cfg)\r\n    {\r\n        if (cfg.controller && typeof(cfg.controller) == \"function\")\r\n        {\r\n            this.controller = new cfg.controller(this);\r\n        }\r\n        super.initCfg(cfg);\r\n        if (cfg.children)\r\n        {\r\n            this.initChildrenCfg(cfg.children);\r\n        }\r\n    }\r\n\r\n    appendChildren(child){\r\n        super.appendChildren(child);\r\n\r\n        this.doLayout();\r\n    }\r\n\r\n    /** 获取所有的权值 */\r\n    getAllWeight(){\r\n        let allWeight = 0;\r\n        this.children.forEach((child, index)=>{\r\n            if (child.style.layout && child.style.layout.layoutWeight)\r\n            {\r\n                allWeight += child.style.layout.layoutWeight;\r\n            }\r\n            else\r\n            {\r\n                allWeight += 1;\r\n            }\r\n        });\r\n        return allWeight;\r\n    }\r\n\r\n    doLayout(){\r\n        if (this.style.layout && this.style.layout.type && this.children.length > 0)\r\n        {\r\n            switch(this.style.layout.type)\r\n            {\r\n                case \"linearLayout\" :\r\n                    let allWeight = this.getAllWeight();//总权值\r\n                    let allWH = 0;//记录高宽，确定x和y坐标\r\n                    this.children.forEach((child, index)=>{\r\n                        let weight = 1;\r\n                        if (child.style.layout && child.style.layout.layoutWeight)\r\n                        {\r\n                            weight = child.style.layout.layoutWeight;\r\n                        }\r\n                        if (!this.style.layout.orientation || this.style.layout.orientation === \"horizontal\")\r\n                        {\r\n                            let width = (this.getWidth() - (this.style.borderWidth || 0) * 2) * (weight / allWeight);\r\n                            child.style.x = allWH;\r\n                            child.style.y = 0;\r\n                            child.setWidth(width);\r\n                            allWH += width;\r\n                        }\r\n                        else if (this.style.layout.orientation === \"vertical\")\r\n                        {\r\n                            let height = (this.getHeight() - (this.style.borderWidth || 0) * 2) * (weight / allWeight);\r\n                            child.style.y = allWH;\r\n                            child.style.x = 0;\r\n                            child.setHeight(height);\r\n                            allWH += height;\r\n                        }\r\n                    });\r\n                    break;\r\n                default : break;\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/panel.js","/**\r\n * Created by heju on 2017/7/20.\r\n */\r\nimport globalUtil from \"../../util/globalUtil.js\";\r\nimport commonUtil from \"../../util/commonUtil.js\";\r\nimport Panel from \"./panel.js\";\r\n\r\nexport default class Component {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n        this.eventNotifys = [];//事件通知队列\r\n        this.active = true;//为false则不绘制\r\n        this.style = {};\r\n        this.originalStyle = {};//保存原来的样式，避免focus或hover后原来的样式丢失\r\n\r\n        this.style.fontFamily = globalUtil.viewState.defaultFontFamily;\r\n        this.style.fontSize = globalUtil.viewState.defaultFontSize;\r\n        this.style.lineHeight = parseInt(this.style.fontSize, 10);\r\n        this.multiLine = true;//是否多行文本\r\n        this.autoLine = true;//是否自动换行\r\n    }\r\n\r\n    initCfg(cfg){\r\n        let $this = this;\r\n        if (cfg.id)\r\n        {\r\n            this.id = cfg.id;\r\n        }\r\n        if (cfg.style)\r\n        {\r\n            commonUtil.copyObject(cfg.style, this.style, true);\r\n        }\r\n        this.text = this.getTextForRows(cfg.text);\r\n        this.multiLine = cfg.multiLine || this.multiLine;\r\n\r\n        if (this.style.backgroundImage)\r\n        {\r\n            let img = new Image();\r\n            img.onload = function(){\r\n                $this.backgroundImageDom = this;\r\n                if (!$this.getWidth() || $this.getWidth() === \"auto\")\r\n                {\r\n                    $this.setWidth($this.backgroundImageDom.width);\r\n                }\r\n                if (!$this.getHeight() || $this.getHeight() === \"auto\")\r\n                {\r\n                    $this.setHeight($this.backgroundImageDom.height);\r\n                }\r\n            };\r\n            img.src = this.style.backgroundImage;\r\n        }\r\n\r\n        //事件绑定配置\r\n        if (cfg.events)\r\n        {\r\n            let eventInfo;\r\n            let funName;\r\n            let param;\r\n            let controller;\r\n            for (let type in cfg.events)\r\n            {\r\n                eventInfo = cfg.events[type];\r\n                if (typeof(eventInfo) == \"object\")\r\n                {\r\n                    funName = eventInfo.callback;\r\n                    if (eventInfo.param)//有参数\r\n                    {\r\n                        param = eventInfo.param.apply(this, [this]);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    funName = eventInfo;\r\n                }\r\n                controller = this.getController(this);\r\n                if (controller && controller[funName]\r\n                    && typeof(controller[funName]) == \"function\")\r\n                {\r\n                    if (param)\r\n                    {\r\n                        this.registerEvent(type, controller[funName].bind(controller, param));\r\n                    }\r\n                    else\r\n                    {\r\n                        this.registerEvent(type, controller[funName].bind(controller));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    initChildrenCfg(childrenCfg){\r\n        this.children = [];\r\n        if (typeof(childrenCfg) == \"object\" && childrenCfg instanceof Array)\r\n        {\r\n            let chiCfg;\r\n            for (let i = 0, j = childrenCfg.length; i < j; i++)\r\n            {\r\n                chiCfg = childrenCfg[i];\r\n                this.produceChildren(chiCfg);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.produceChildren(childrenCfg);\r\n        }\r\n    }\r\n\r\n    produceChildren(chiCfg){\r\n        let Rect = require(\"./rect.js\").default;\r\n        let Input = require(\"./input.js\").default;\r\n        let Button = require(\"./button.js\").default;\r\n\r\n        let childCom;\r\n        if (typeof(chiCfg) === \"function\")//异步加载view\r\n        {\r\n            return chiCfg(this.asyncGetView.bind(this));\r\n        }\r\n        else\r\n        {\r\n            switch (chiCfg.type)\r\n            {\r\n                case \"panel\" :\r\n                    childCom = new Panel(this);\r\n                    childCom.initCfg(chiCfg);\r\n                    this.appendChildren(childCom);\r\n                    break;\r\n                case \"rect\" :\r\n                    childCom = new Rect(this);\r\n                    childCom.initCfg(chiCfg);\r\n                    this.appendChildren(childCom);\r\n                    break;\r\n                case \"input\" :\r\n                    childCom = new Input(this);\r\n                    childCom.initCfg(chiCfg);\r\n                    this.appendChildren(childCom);\r\n                    break;\r\n                case \"button\" :\r\n                    childCom = new Button(this);\r\n                    childCom.initCfg(chiCfg);\r\n                    this.appendChildren(childCom);\r\n                    break;\r\n                default : break;\r\n            }\r\n            return childCom;\r\n        }\r\n    }\r\n\r\n    asyncGetView(viewCfg, resolve, reject){\r\n        let panel = new Panel(this);\r\n        panel.initCfg(viewCfg);\r\n        this.appendChildren(panel);\r\n        if (resolve)\r\n        {\r\n            resolve(panel);\r\n        }\r\n    }\r\n\r\n    draw(ctx){\r\n        //不在parent范围内，则不需要绘制\r\n        let parentArea = this.inParentArea(this);\r\n        if (parentArea === 0)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        this.focusEnable();\r\n        this.hoverEnable();\r\n        this.activeEnable();\r\n\r\n        //判断鼠标是否在组件范围内\r\n        if (ctx.mouseAction.mx && ctx.mouseAction.my\r\n            && this.isPointInComponent(ctx.mouseAction.mx, ctx.mouseAction.my))\r\n        {\r\n            ctx.mouseAction.hoverCom = this;\r\n        }\r\n\r\n        //检查事件\r\n        if (this.eventNotifys.length > 0)\r\n        {\r\n            this.eventNotifys.forEach((eventNotify)=>{\r\n                this.checkEvent(eventNotify);\r\n            });\r\n            this.eventNotifys.length = 0;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /** 添加子节点 */\r\n    appendChildren(child){\r\n        this.children.push(child);\r\n    }\r\n\r\n    /** 设置通用样式，所有组件在绘制前都应该设置 */\r\n    setCommonStyle(ctx){\r\n        //半透明\r\n        if (this.style.alpha)\r\n        {\r\n            ctx.globalAlpha = this.style.alpha;\r\n        }\r\n    }\r\n\r\n    saveStyle(){\r\n        commonUtil.copyObject(this.style, this.originalStyle, true);\r\n    }\r\n\r\n    restoreStyle(){\r\n        commonUtil.copyObject(this.originalStyle, this.style, true);\r\n    }\r\n\r\n    hoverEnable(){\r\n        if (globalUtil.action.hoverComponent === this)\r\n        {\r\n            commonUtil.copyObject(this.style.hover, this.style, true);\r\n        }\r\n    }\r\n    focusEnable(){\r\n        if (globalUtil.action.focusComponent === this)\r\n        {\r\n            commonUtil.copyObject(this.style.focus, this.style, true);\r\n        }\r\n    }\r\n    activeEnable(){\r\n        if (globalUtil.action.activeComponent === this)\r\n        {\r\n            commonUtil.copyObject(this.style.active, this.style, true);\r\n        }\r\n    }\r\n\r\n    /** 检查事件是否匹配 */\r\n    checkEvent(eventNotify){\r\n        if (eventNotify.type)\r\n        {\r\n            if (eventNotify.type === 1\r\n                && this.isPointInComponent(eventNotify.px, eventNotify.py))//判断鼠标是否在控件范围内\r\n            {\r\n                globalUtil.eventBus.captureEvent(eventNotify);\r\n            }\r\n            else if (eventNotify.type === 2\r\n                && globalUtil.action.focusComponent === this)//键盘事件\r\n            {\r\n                globalUtil.eventBus.captureEvent(eventNotify);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** this是否是com的父亲 */\r\n    parentOf(com){\r\n        if (!com.parent)\r\n        {\r\n            return false;\r\n        }\r\n        if (com.parent === this)\r\n        {\r\n            return true;\r\n        }\r\n        return this.parentOf(com.parent);\r\n    }\r\n\r\n    getController(com){\r\n        if (!com.parent)\r\n        {\r\n            return com.controller;\r\n        }\r\n        if (com instanceof Panel && com.controller)\r\n        {\r\n            return com.controller;\r\n        }\r\n        else\r\n        {\r\n            return this.getController(com.parent);\r\n        }\r\n    }\r\n\r\n    //获取显示在界面上真实的x坐标，加上父级坐标\r\n    getRealXRecursion(com){\r\n        if (com.parent)\r\n        {\r\n            return com.style.x + this.getRealXRecursion(com.parent) + (com.parent.style.borderWidth || 0);\r\n        }\r\n        else\r\n        {\r\n            return com.style.x;\r\n        }\r\n    }\r\n    getRealX(){\r\n        return this.getRealXRecursion(this);\r\n    }\r\n    getRealYRecursion(com){\r\n        if (com.parent)\r\n        {\r\n            return com.style.y + this.getRealYRecursion(com.parent) + (com.parent.style.borderWidth || 0);\r\n        }\r\n        else{\r\n            return com.style.y;\r\n        }\r\n    }\r\n    getRealY(){\r\n        return this.getRealYRecursion(this);\r\n    }\r\n    /** 获取文本的坐标 */\r\n    getTextRealX(){\r\n        let oriX = this.getRealX() + (this.style.borderWidth || 0);\r\n        //文字居中显示\r\n        if (this.getText() && this.style.textAlign === \"center\")\r\n        {\r\n            let textLength = parseInt(this.style.fontSize) * this.getText().length;\r\n            if (textLength <= this.getWidth())\r\n            {\r\n                return oriX + (this.getWidth() / 2 - textLength / 2);\r\n            }\r\n        }\r\n        return oriX;\r\n    }\r\n    getTextRealY(){\r\n        return this.getRealY() + (this.style.borderWidth || 0);\r\n    }\r\n\r\n    /** 高宽处理 */\r\n    setWidth(width){\r\n        this.style.width = width;\r\n    }\r\n    setHeight(height){\r\n        this.style.height = height;\r\n    }\r\n    getWidth(){\r\n        if (!this.style.width)\r\n        {\r\n            return undefined;\r\n        }\r\n        if (this.style.width.toString().indexOf(\"%\") > -1)//百分比\r\n        {\r\n            let maxWidth = this.parent.getWidth() - (this.parent ? (this.parent.style.borderWidth || 0) * 2 : 0);\r\n            return maxWidth * (this.style.width.substring(0, this.style.width.length - 1) / 100);\r\n        }\r\n        return this.style.width;\r\n    }\r\n    getHeight(){\r\n        if (!this.style.height)\r\n        {\r\n            return undefined;\r\n        }\r\n        if (this.style.height.toString().indexOf(\"%\") > -1)\r\n        {\r\n            let maxHeight = this.parent.getHeight() - (this.parent ? (this.parent.style.borderWidth || 0) * 2 : 0);\r\n            return maxHeight * (this.style.height.substring(0, this.style.height.length - 1) / 100);\r\n        }\r\n        return this.style.height;\r\n    }\r\n\r\n    /** 用\\n分隔string，实现换行 */\r\n    getTextForRows(text){\r\n        if (!text)\r\n        {\r\n            return undefined;\r\n        }\r\n        let rowsStr;\r\n        if (!this.multiLine)//单行\r\n        {\r\n            rowsStr = [text];\r\n        }\r\n        else\r\n        {\r\n            if (this.autoLine)//如果自动换行\r\n            {\r\n                let index = 0;\r\n                let charWidth = 0;\r\n                let char;\r\n                while (char = text.charAt(index)) {\r\n                    if (char === \"\\n\") {\r\n                        charWidth = 0;\r\n                    }\r\n                    else {\r\n                        charWidth += parseInt(this.style.fontSize, 10);\r\n                        if (charWidth > this.getWidth() - (this.style.borderWidth || 0) * 2) {//如果当前行宽度大于组件宽度，则添加一个换行符\r\n                            charWidth = 0;\r\n                            text = text.substring(0, index) + \"\\n\" + text.substring(index);\r\n                        }\r\n                    }\r\n                    index++;\r\n                }\r\n            }\r\n            rowsStr = text.split(\"\\n\");\r\n        }\r\n        let i;\r\n        let c;\r\n        let arr;\r\n        return rowsStr.map((row)=>{\r\n            i = 0;\r\n            arr = [];\r\n            while (c = row.charAt(i))\r\n            {\r\n                arr.push(c);\r\n                i++;\r\n            }\r\n            return arr;\r\n        });\r\n    }\r\n\r\n    setText(text){\r\n        this.text = this.getTextForRows(text);\r\n    }\r\n\r\n    getText(){\r\n        if (!this.text)\r\n        {\r\n            return undefined;\r\n        }\r\n        return this.text.map((row, index)=>{\r\n            return row.join(\"\");\r\n        }).join(\"\\n\");\r\n    }\r\n\r\n    getChildren(){\r\n        return this.children;\r\n    }\r\n\r\n    registerEvent(eventType, callback){\r\n        globalUtil.eventBus.registerEvent(this, eventType, callback);\r\n    }\r\n\r\n    addEventNotify(eventNotify){\r\n        this.eventNotifys.push(eventNotify);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/component.js","/**\r\n * Created by heju on 2017/7/30.\r\n */\r\nimport Rect from \"./rect.js\";\r\nimport globalUtil from \"../../util/globalUtil\";\r\nimport commonUtil from \"../../util/commonUtil\";\r\n\r\nexport default class Input extends Rect {\r\n    constructor(parent) {\r\n        super(parent);\r\n\r\n        this.showTextCursor = true;\r\n        this.showTextCursorInterval = 0;\r\n        this.multiLine = false;\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n    }\r\n\r\n    draw(ctx) {\r\n        if (!super.draw(ctx)) {\r\n            return false;\r\n        }\r\n\r\n        ctx.save();\r\n        this.setClip(ctx);\r\n        ctx.beginPath();\r\n        //focus\r\n        if (globalUtil.action.focusComponent === this) {\r\n            //绘制光标\r\n            this.drawTextCursor(ctx);\r\n        }\r\n        ctx.restore();\r\n        return true;\r\n    }\r\n\r\n    /** 获取文本输入光标位置 */\r\n    getTextCursorPos(){\r\n        let selectionEnd = globalUtil.action.inputListenerDom.selectionEnd;\r\n        let textRow;\r\n        if (this.text && this.text.length > 0)\r\n        {\r\n            for (let i = 0,j = this.text.length; i < j; i++)\r\n            {\r\n                if (selectionEnd <= this.text[i].length)\r\n                {\r\n                    textRow = i;\r\n                    break;\r\n                }\r\n                selectionEnd -= this.text[i].length;\r\n                selectionEnd--;//selectionEnd里包含多余的换行符，所以要减一个换行符\r\n            }\r\n            textRow = textRow === undefined ? this.text.length - 1 : textRow;\r\n        }\r\n        this.textCursorX = selectionEnd * parseInt(this.style.fontSize) + 1;\r\n        this.textCursorY = this.style.lineHeight / 2 - parseInt(this.style.fontSize, 10) / 2 + this.style.lineHeight * (textRow || 0);\r\n    }\r\n\r\n    drawTextCursor(ctx){\r\n        if (this.showTextCursor)\r\n        {\r\n            if (!globalUtil.action.inputListenerDom.compositionMode)\r\n            {\r\n                this.getTextCursorPos();\r\n            }\r\n            ctx.fillStyle=\"#000\";\r\n            ctx.moveTo(this.getTextRealX() + this.textCursorX, this.getTextRealY() + this.textCursorY + 2);\r\n            ctx.lineTo(this.getTextRealX() + this.textCursorX, this.getTextRealY() + this.textCursorY + this.style.lineHeight - 2);\r\n            ctx.stroke();\r\n        }\r\n        this.showTextCursorInterval++;\r\n        if (this.showTextCursorInterval === 30)\r\n        {\r\n            this.showTextCursorInterval = 0;\r\n            this.showTextCursor = !this.showTextCursor;\r\n        }\r\n    }\r\n\r\n    onFocus(mx, my){\r\n        this.showTextCursorInterval = 0;\r\n        this.showTextCursor = true;\r\n        globalUtil.action.inputListenerDom.value = this.getText() || \"\";\r\n\r\n        if (this.text)//点击输入框更改光标位置\r\n        {\r\n            let textX;\r\n            let textY;\r\n            let charCount = 0;\r\n            this.text.forEach((row, index)=>{\r\n                row.forEach((char, cindex)=>{\r\n                    textX = this.getTextRealX() + cindex * parseInt(this.style.fontSize, 10);\r\n                    textY = this.getTextRealY() + this.style.lineHeight / 2 - parseInt(this.style.fontSize, 10) / 2 + this.style.lineHeight * index;\r\n                    if (my >= textY\r\n                        && my <= textY + parseInt(this.style.fontSize, 10)\r\n                        && mx >= textX\r\n                        && mx <= textX + parseInt(this.style.fontSize, 10))\r\n                    {\r\n                        globalUtil.action.inputListenerDom.setSelectionRange(charCount + 1, charCount + 1);\r\n                    }\r\n                    charCount++;\r\n                });\r\n                charCount++;//加上换行符\r\n            });\r\n        }\r\n    }\r\n\r\n    getTextRealX(){\r\n        let oriX = super.getTextRealX();\r\n        if (this.textCursorX > this.getWidth())//防止光标超出显示区域\r\n        {\r\n            return oriX - (this.textCursorX - this.getWidth());\r\n        }\r\n        return oriX;\r\n    }\r\n\r\n    getTextRealY(){\r\n        let oriY = super.getTextRealY();\r\n        if (this.multiLine)\r\n        {\r\n            return oriY;\r\n        }\r\n        else\r\n        {\r\n            return oriY + this.getHeight() / 2 - this.style.lineHeight / 2;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/input.js","/**\r\n * Created by heju on 2017/7/10.\r\n */\r\nimport Fps from \"./ui/fps.js\";\r\nimport httpUtil from \"./util/httpUtil.js\";\r\nimport commonUtil from \"./util/commonUtil.js\";\r\nimport globalUtil from \"./util/globalUtil.js\";\r\nimport Controller from \"./ui/controller.js\";\r\n\r\nclass Main {\r\n    constructor(eleId){\r\n        let mainBody = document.getElementById(eleId);\r\n        this.fps = new Fps(mainBody);\r\n\r\n        globalUtil.action = {};\r\n\r\n        //输入框输入监听\r\n        globalUtil.action.inputListenerDom = document.createElement(\"TEXTAREA\");\r\n        globalUtil.action.inputListenerDom.style.position = \"fixed\";\r\n        globalUtil.action.inputListenerDom.style.left = \"0px\";\r\n        globalUtil.action.inputListenerDom.style.top = \"0px\";\r\n        globalUtil.action.inputListenerDom.style[\"z-index\"] = -1;\r\n        document.body.appendChild(globalUtil.action.inputListenerDom);\r\n    }\r\n\r\n    setMainView(viewCfg){\r\n        this.fps.setMainView(viewCfg);\r\n        this.fps.startLoop();\r\n    }\r\n\r\n    run(viewCfg){\r\n        this.setMainView(viewCfg);\r\n    }\r\n}\r\n\r\nwindow.Monk = {\r\n    Main : Main,\r\n    commonUtil : commonUtil,\r\n    httpUtil : httpUtil,\r\n    Controller : Controller\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","/**\r\n * Created by heju on 2017/7/13.\r\n */\r\nimport commonUtil from \"../util/commonUtil.js\";\r\nimport globalUtil from \"../util/globalUtil.js\";\r\nimport ViewState from \"./viewState.js\";\r\nimport EventBus from \"../event/eventBus.js\";\r\n\r\nexport default class Fps{\r\n    constructor(mainBody){\r\n        globalUtil.canvas = document.createElement(\"CANVAS\");\r\n        mainBody.appendChild(globalUtil.canvas);\r\n        globalUtil.canvas.width = mainBody.offsetWidth;\r\n        globalUtil.canvas.height = mainBody.offsetHeight;\r\n        this.ctx = globalUtil.canvas.getContext('2d');\r\n        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\r\n        globalUtil.eventBus = new EventBus(globalUtil.canvas);\r\n    }\r\n\r\n    setMainView(viewCfg){\r\n        globalUtil.viewState = new ViewState(this.ctx);\r\n        globalUtil.viewState.init(viewCfg);\r\n    }\r\n\r\n    /** 开始循环绘制 */\r\n    startLoop(){\r\n        window.requestAnimationFrame(this.draw.bind(this));\r\n    }\r\n\r\n    drawView(com){\r\n        if (!com.active)\r\n        {\r\n            return;\r\n        }\r\n        com.saveStyle();\r\n        if (com.draw(this.ctx))\r\n        {\r\n            let children = com.getChildren();\r\n            if (children)\r\n            {\r\n                if (children instanceof Array)\r\n                {\r\n                    let child;\r\n                    for (let i = 0, j = children.length; i < j; i++) {\r\n                        child = children[i];\r\n                        this.drawView(child);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    this.drawView(children);\r\n                }\r\n            }\r\n        }\r\n        com.restoreStyle();\r\n    }\r\n\r\n    draw(){\r\n        //背景\r\n        this.ctx.fillStyle = \"#000\";\r\n        this.ctx.fillRect(0, 0, globalUtil.canvas.width, globalUtil.canvas.height);\r\n\r\n        globalUtil.viewState.beforeDraw(this.ctx);\r\n        this.drawView(globalUtil.viewState.rootPanel);\r\n        globalUtil.viewState.afterDraw(this.ctx);\r\n\r\n        window.requestAnimationFrame(this.draw.bind(this));\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/fps.js","/**\r\n * Created by heju on 2017/7/19.\r\n */\r\nimport globalUtil from \"../util/globalUtil.js\";\r\nimport commonUtil from \"../util/commonUtil.js\";\r\nimport Panel from \"./components/panel.js\";\r\nimport Router from \"./components/router.js\";\r\nimport Input from \"./components/input.js\";\r\n\r\nexport default class ViewState{\r\n    constructor(ctx){\r\n        this.isViewState = true;\r\n\r\n        this.defaultFontFamily = \"Microsoft YaHei\";\r\n        this.defaultFontSize = \"14px\";\r\n\r\n        ctx.mouseAction = {};\r\n\r\n        globalUtil.eventBus.registerEvent(this, \"mousedown\", (e)=>{\r\n            if (globalUtil.action.hoverComponent)\r\n            {\r\n                globalUtil.action.focusComponent = globalUtil.action.hoverComponent;\r\n                globalUtil.action.activeComponent = globalUtil.action.hoverComponent;\r\n                if (globalUtil.action.focusComponent.onFocus && typeof(globalUtil.action.focusComponent.onFocus) === \"function\")\r\n                {\r\n                    globalUtil.action.focusComponent.onFocus(e.pageX, e.pageY);\r\n                }\r\n            }\r\n        });\r\n        globalUtil.eventBus.registerEvent(this, \"mouseup\", (e)=>{\r\n            globalUtil.action.inputListenerDom.focus();\r\n            if (globalUtil.action.activeComponent)\r\n            {\r\n                globalUtil.action.activeComponent = undefined;\r\n            }\r\n        });\r\n        globalUtil.eventBus.registerEvent(this, \"mousemove\", (e)=>{\r\n            ctx.mouseAction.mx = e.pageX;\r\n            ctx.mouseAction.my = e.pageY;\r\n        });\r\n\r\n        //输入框事件\r\n        globalUtil.action.inputListenerDom.compositionMode = false;//是否输入法状态\r\n        globalUtil.eventBus.addEventListener(globalUtil.action.inputListenerDom, \"compositionstart\", (e)=>{\r\n            globalUtil.action.inputListenerDom.compositionMode = true;\r\n        });\r\n        globalUtil.eventBus.addEventListener(globalUtil.action.inputListenerDom, \"compositionend\", (e)=>{\r\n            globalUtil.action.inputListenerDom.compositionMode = false;\r\n            if (globalUtil.action.focusComponent && globalUtil.action.focusComponent instanceof Input)\r\n            {\r\n                this.setVal2FocusCom();\r\n            }\r\n        });\r\n        globalUtil.eventBus.addEventListener(globalUtil.action.inputListenerDom, \"input\", (e)=>{\r\n            if (!globalUtil.action.inputListenerDom.compositionMode\r\n                && globalUtil.action.focusComponent && globalUtil.action.focusComponent instanceof Input)\r\n            {\r\n                this.setVal2FocusCom();\r\n            }\r\n        });\r\n    }\r\n\r\n    init(viewCfg){\r\n        if (viewCfg.type == \"panel\")\r\n        {\r\n            this.rootPanel = new Panel();\r\n            this.rootPanel.initCfg(viewCfg);\r\n        }\r\n        else if (viewCfg.type == \"route\")\r\n        {\r\n            this.rootPanel = new Router();\r\n            this.rootPanel.initCfg(viewCfg);\r\n        }\r\n    }\r\n\r\n    /** 绘制前 */\r\n    beforeDraw(ctx){\r\n        //通知触发事件\r\n        globalUtil.eventBus.doNotifyEvent();\r\n\r\n        ctx.mouseAction.hoverCom = undefined;\r\n    }\r\n\r\n    /** 绘制后 */\r\n    afterDraw(ctx){\r\n        globalUtil.eventBus.propagationEvent();\r\n\r\n        //全部绘制完后检查hover的组件\r\n        if (ctx.mouseAction.hoverCom)\r\n        {\r\n            globalUtil.action.hoverComponent = ctx.mouseAction.hoverCom;\r\n        }\r\n    }\r\n\r\n    /** 将textarea中的值设置到焦点组件 */\r\n    setVal2FocusCom(){\r\n        globalUtil.action.focusComponent.setText(globalUtil.action.inputListenerDom.value);\r\n        globalUtil.action.inputListenerDom.value = globalUtil.action.focusComponent.getText() || \"\";\r\n    }\r\n\r\n    addEventNotify(eventNotify){\r\n        globalUtil.eventBus.captureEvent(eventNotify);//为了最后执行mousedown事件，必须第一个占坑\r\n    }\r\n\r\n    getComponentInChildrenByKey(key, val, com) {\r\n        let children = com.getChildren();\r\n        if (children)\r\n        {\r\n            let retCom;\r\n            if (children instanceof Array)\r\n            {\r\n                let child;\r\n                for (let i = 0, j = children.length; i < j; i++)\r\n                {\r\n                    child = children[i];\r\n                    if (child[key] && child[key] === val)\r\n                    {\r\n                        return child;\r\n                    }\r\n                    retCom = this.getComponentInChildrenByKey(key, val, child);\r\n                    if (retCom)\r\n                    {\r\n                        return retCom;\r\n                    }\r\n                    if (i == j - 1)\r\n                    {\r\n                        return undefined;\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (children[key] && children[key] === val)\r\n                {\r\n                    return children;\r\n                }\r\n                else\r\n                {\r\n                    return this.getComponentInChildrenByKey(key, val, children);\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    getComponentById(id){\r\n        if (this.rootPanel.id && this.rootPanel.id === id)\r\n        {\r\n            return this.rootPanel;\r\n        }\r\n        else\r\n        {\r\n            return this.getComponentInChildrenByKey(\"id\", id, this.rootPanel);\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/viewState.js","import Rect from \"./rect.js\";\r\n\r\nexport default class Button extends Rect {\r\n    constructor(parent) {\r\n        super(parent);\r\n        this.style.textAlign = \"center\";\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n        this.style.lineHeight = this.getHeight();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/button.js","import globalUtil from \"../../util/globalUtil.js\";\r\nimport Component from \"./component.js\";\r\n\r\nexport default class Router extends Component{\r\n    constructor(parent){\r\n        super(parent);\r\n\r\n        this.routes = {};\r\n        this.children = [];\r\n\r\n        this.style.x = 0;\r\n        this.style.y = 0;\r\n        if (!parent)//最顶层\r\n        {\r\n            this.setWidth(globalUtil.canvas.width);\r\n            this.setHeight(globalUtil.canvas.height);\r\n        }\r\n        else\r\n        {\r\n            this.setWidth(parent.getWidth());\r\n            this.setHeight(parent.getHeight());\r\n        }\r\n    }\r\n\r\n    initCfg(cfg)\r\n    {\r\n        super.initCfg(cfg);\r\n\r\n        if (cfg.routes)\r\n        {\r\n            let rCfg;\r\n            for (let name in cfg.routes)\r\n            {\r\n                rCfg = cfg.routes[name];\r\n                this.routes[name] = {\r\n                    loader : rCfg.view\r\n                };\r\n                if (rCfg.default)\r\n                {\r\n                    this.currentRoute = name;\r\n                    this.getChildrenView();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    draw(ctx){\r\n        return true;\r\n    }\r\n\r\n    getChildrenView(){\r\n        if (!this.currentChildren)\r\n        {\r\n            if (this.routes[this.currentRoute].num === undefined)\r\n            {\r\n                let retChild = this.produceChildren(this.routes[this.currentRoute].loader);\r\n                if (retChild instanceof Promise)\r\n                {\r\n                    retChild.then((child)=>{\r\n                        this.routes[this.currentRoute].num = this.children.length - 1;\r\n                        this.currentChildren = child;\r\n                        this.currentChildren.active = true;\r\n                    });\r\n                }\r\n                else\r\n                {\r\n                    this.routes[this.currentRoute].num = this.children.length - 1;\r\n                    this.currentChildren = retChild;\r\n                    this.currentChildren.active = true;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.currentChildren = this.children[this.routes[this.currentRoute].num];\r\n                this.currentChildren.active = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    getChildren(){\r\n        return this.currentChildren;\r\n    }\r\n\r\n    changeRoute(name){\r\n        if (this.currentChildren)\r\n        {\r\n            this.currentChildren.active = false;\r\n        }\r\n        this.currentRoute = name;\r\n        this.currentChildren = undefined;\r\n        this.getChildrenView();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/router.js","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nimport EventListener from \"./eventListener.js\";\r\nimport ClickEvent from \"./type/clickEvent.js\";\r\nimport MouseEvent from \"./type/mouseEvent.js\";\r\nimport KeyEvent from \"./type/keyEvent.js\";\r\nimport Stack from \"../data/structure/stack.js\";\r\nimport EventNotify from \"./eventNotify.js\";\r\nimport globalUtil from \"../util/globalUtil\";\r\nimport commonUtil from \"../util/commonUtil\";\r\n\r\nexport default class EventBus{\r\n    constructor(canvas){\r\n        this.canvas = canvas;\r\n        //注册事件列表\r\n        this.eventListeners = {\r\n            \"click\" : [],\r\n            \"mousedown\" : [],\r\n            \"mousemove\" : [],\r\n            \"mouseup\" : [],\r\n            \"keydown\" : [],\r\n            \"keyup\" : []\r\n        };\r\n        //事件通知队列\r\n        this.eventNotifyQueue = [];\r\n        //事件冒泡执行队列\r\n        this.propagationEventQueue = {};\r\n\r\n        this.initDomEvent();\r\n    }\r\n\r\n    addEventListener(dom, type, callback){\r\n        if (window.addEventListener)\r\n        {\r\n            dom.addEventListener(type, callback, false);\r\n        }\r\n        else\r\n        {\r\n            dom.attachEvent(\"on\" + type, callback);\r\n        }\r\n    }\r\n\r\n    initDomEvent(){\r\n        this.addEventListener(this.canvas, \"click\", (e)=>{\r\n            this.createEventNotify(e, \"click\");\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"mousedown\", (e)=>{\r\n            this.createEventNotify(e, \"mousedown\");\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"mousemove\", (e)=>{\r\n            this.createEventNotify(e, \"mousemove\");\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"mouseup\", (e)=>{\r\n            this.createEventNotify(e, \"mouseup\");\r\n        });\r\n\r\n        this.addEventListener(window, \"keydown\", (e)=>{\r\n            this.createKeyEventNotify(e, \"keydown\");\r\n        });\r\n\r\n        this.addEventListener(window, \"keyup\", (e)=>{\r\n            this.createKeyEventNotify(e, \"keyup\");\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 创建冒泡执行堆栈，用批次号分类\r\n     *\r\n     * @return 批次号（时间戳）\r\n     */\r\n    createPropagationStack(){\r\n        let batchNo = (new Date).getTime();\r\n        this.propagationEventQueue[batchNo] = new Stack();\r\n        return batchNo;\r\n    }\r\n\r\n    createEventNotify(e, type){\r\n        e = e || window.event;\r\n        let px = e.pageX;\r\n        let py = e.pageY;\r\n        let batchNo = this.createPropagationStack();\r\n        let eventNotify;\r\n        this.eventNotifyQueue.push(()=>{\r\n            let eventListeners = this.eventListeners[type];\r\n            if (eventListeners.length > 0)\r\n            {\r\n                let listener;\r\n                for (let i = eventListeners.length - 1; i >=0; i--)\r\n                {\r\n                    listener = eventListeners[i];\r\n                    if (listener.target.isViewState || listener.target.active)\r\n                    {\r\n                        eventNotify = new EventNotify();\r\n                        eventNotify.set({\r\n                            batchNo: batchNo,\r\n                            type: 1,\r\n                            px: px,\r\n                            py: py,\r\n                            listener: listener\r\n                        });\r\n                        listener.setSourceEvent(e);\r\n                        listener.target.addEventNotify(eventNotify);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    createKeyEventNotify(e, type){\r\n        e = e || window.event;\r\n        let batchNo = this.createPropagationStack();\r\n        let eventNotify;\r\n        this.eventNotifyQueue.push(()=>{\r\n            this.eventListeners[type].forEach((listener)=>{\r\n                if (listener.target.isViewState || listener.target.active)\r\n                {\r\n                    eventNotify = new EventNotify();\r\n                    eventNotify.set({\r\n                        batchNo : batchNo,\r\n                        type : 2,\r\n                        listener : listener\r\n                    });\r\n                    listener.setSourceEvent(e);\r\n                    listener.target.addEventNotify(eventNotify);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    //通知触发事件\r\n    doNotifyEvent(){\r\n        this.eventNotifyQueue.forEach((eventFun)=>{\r\n            if (eventFun && typeof(eventFun) == \"function\")\r\n            {\r\n                eventFun();\r\n            }\r\n        });\r\n        this.eventNotifyQueue.length = 0;\r\n    }\r\n\r\n    //捕获事件\r\n    captureEvent(eventNotify){\r\n        if (!this.propagationEventQueue[eventNotify.batchNo])\r\n        {\r\n            return;\r\n        }\r\n        this.propagationEventQueue[eventNotify.batchNo].push(eventNotify.listener);\r\n    }\r\n\r\n    /**\r\n     * 冒泡执行事件\r\n     */\r\n    propagationEvent(){\r\n        let listener;\r\n        let bubble;//上一个冒泡节点\r\n        let target;\r\n        let event;\r\n        let top;\r\n        let key;\r\n        for (key in this.propagationEventQueue)\r\n        {\r\n            bubble = undefined;\r\n            target = undefined;\r\n            event = undefined;\r\n            top = this.propagationEventQueue[key].getTop();\r\n            if (top)//获取target，第一个冒泡节点的target\r\n            {\r\n                target = top.target;\r\n            }\r\n            while (listener = this.propagationEventQueue[key].pop())\r\n            {\r\n                if (listener.target.isViewState || !bubble//viewstate节点或第一个节点\r\n                    || (event && event.immediatePropagation && bubble === listener.target)//自己\r\n                    || (event && event.propagation && listener.target.parentOf(bubble)))//parent\r\n                {\r\n                    event = this.getEvent(listener);\r\n                    event.setTarget(target);\r\n                    if (listener.callback && typeof(listener.callback) === \"function\")\r\n                    {\r\n                        listener.callback(event);\r\n                    }\r\n                    bubble = listener.target;\r\n                }\r\n            }\r\n            delete this.propagationEventQueue[key];\r\n        }\r\n    }\r\n\r\n    getEvent(listener){\r\n        let event;\r\n        switch (listener.type)\r\n        {\r\n            case \"click\" :\r\n                event = new ClickEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                break;\r\n            case \"mousedown\" :\r\n                event = new MouseEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setButton(listener.sourceEvent.button);\r\n                event.setPageX(listener.sourceEvent.pageX);\r\n                event.setPageY(listener.sourceEvent.pageY);\r\n                break;\r\n            case \"mousemove\" :\r\n                event = new MouseEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setPageX(listener.sourceEvent.pageX);\r\n                event.setPageY(listener.sourceEvent.pageY);\r\n                break;\r\n            case \"mouseup\" :\r\n                event = new MouseEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setButton(listener.sourceEvent.button);\r\n                event.setPageX(listener.sourceEvent.pageX);\r\n                event.setPageY(listener.sourceEvent.pageY);\r\n                break;\r\n            case \"keydown\" :\r\n                event = new KeyEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setKey(listener.sourceEvent.key);\r\n                event.setKeyCode(listener.sourceEvent.keyCode);\r\n                break;\r\n            case \"keyup\" :\r\n                event = new KeyEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setKey(listener.sourceEvent.key);\r\n                event.setKeyCode(listener.sourceEvent.keyCode);\r\n                break;\r\n            default : break;\r\n        }\r\n        return event;\r\n    }\r\n\r\n    /** 注册事件 */\r\n    registerEvent(com, type, callback){\r\n        let listener = this.getEventListener(com, type, callback);\r\n        this.eventListeners[type].push(listener);\r\n        return listener;\r\n    }\r\n\r\n    getEventListener(target, type, callback){\r\n       let eventListener = new EventListener(type, callback);\r\n       eventListener.setTarget(target);\r\n       return eventListener;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/eventBus.js","//事件监听类\r\nexport default class EventListener {\r\n    constructor(type, callback) {\r\n        this.type = type;\r\n        this.callback = callback;\r\n    }\r\n\r\n    setTarget(target)\r\n    {\r\n        this.target = target;\r\n    }\r\n\r\n    setSourceEvent(sourceEvent){\r\n        this.sourceEvent = sourceEvent;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/eventListener.js","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nimport Event from \"./event.js\";\r\n\r\nexport default class ClickEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/clickEvent.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\nimport Event from \"./event.js\";\r\n\r\nexport default class MouseEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n\r\n        this.pageX = undefined;\r\n        this.pageY = undefined;\r\n        this.button = undefined;\r\n    }\r\n\r\n    setPageX(x){\r\n        this.pageX = x;\r\n    }\r\n\r\n    setPageY(y){\r\n        this.pageY = y;\r\n    }\r\n\r\n    setButton(button){\r\n        this.button = button;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/mouseEvent.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\nimport Event from \"./event.js\";\r\n\r\nexport default class KeyEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n\r\n        this.key = undefined;\r\n        this.keyCode = undefined;\r\n    }\r\n\r\n    setKey(key){\r\n        this.key = key;\r\n    }\r\n\r\n    setKeyCode(keyCode){\r\n        this.keyCode = keyCode;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/keyEvent.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\nexport default class Stack{\r\n    constructor() {\r\n    }\r\n\r\n    push(obj){\r\n        if (obj)\r\n        {\r\n            let data;\r\n            if (!this.top)\r\n            {\r\n                data = {\r\n                    value : obj\r\n                };\r\n            }\r\n            else\r\n            {\r\n                data = {\r\n                    value : obj,\r\n                    next : this.top\r\n                };\r\n            }\r\n            this.top = data;\r\n        }\r\n    }\r\n\r\n    pop(){\r\n        if (!this.top)\r\n        {\r\n            return undefined;\r\n        }\r\n        let ret;\r\n        if (this.top)\r\n        {\r\n            ret = this.top.value;\r\n        }\r\n        this.top = this.top.next;\r\n        return ret;\r\n    }\r\n\r\n    getTop(){\r\n        return this.top ? this.top.value : undefined;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/data/structure/stack.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\n//事件通知类\r\nexport default class EventNotify {\r\n    constructor() {\r\n    }\r\n\r\n    /**\r\n     * 设置通知，下次循环draw的时候用这些值判断是否触发事件\r\n     */\r\n    set(obj){\r\n        this.batchNo = obj.batchNo;//批次号，表明是哪一批次的事件\r\n        this.type = obj.type;//1：鼠标相关事件；2：键盘事件\r\n        this.px = obj.px;\r\n        this.py = obj.py;\r\n        this.listener = obj.listener;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/eventNotify.js","/**\r\n * Created by heju on 2017/2/10.\r\n */\r\nlet httpUtil = {\r\n    getGetParamStr : (param, normal) => {\r\n        let str = \"\";\r\n        if (param != undefined)\r\n        {\r\n            for (let key in param)\r\n            {\r\n                if (normal)\r\n                {\r\n                    str += key + \"=\" + param[key] + \"&\";\r\n                }\r\n                else\r\n                {\r\n                    str += \"/\" + param[key];\r\n                }\r\n            }\r\n            if (normal)\r\n            {\r\n                str = str.substring(0, str.length - 1);\r\n            }\r\n        }\r\n        return str;\r\n    },\r\n    get : (url, param) => {\r\n        return new Promise((resolve, reject)=>{\r\n            let purl = url;\r\n            if (param)\r\n            {\r\n                purl = url + httpUtil.getGetParamStr(param);\r\n            }\r\n            let xmlhttp;\r\n            if (window.XMLHttpRequest)\r\n            {\r\n                //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码\r\n                xmlhttp=new XMLHttpRequest();\r\n            }\r\n            else\r\n            {\r\n                // IE6, IE5 浏览器执行代码\r\n                xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n            }\r\n            xmlhttp.onreadystatechange = function()\r\n            {\r\n                if (xmlhttp.readyState==4 && xmlhttp.status==200)\r\n                {\r\n                    resolve(xmlhttp.response);\r\n                }\r\n            }\r\n            xmlhttp.open(\"GET\",purl,true);\r\n            xmlhttp.send();\r\n        });\r\n    },\r\n    post : (url, param, callback, errCallback) => {\r\n        $.ajax({\r\n            type : \"post\",\r\n            contentType: 'application/json',\r\n            data :  JSON.stringify(param),\r\n            url : url,\r\n            success : function(data, textStatus, jqXHR){\r\n                if (callback && typeof(callback) == \"function\")\r\n                {\r\n                    callback.apply(this, [data]);\r\n                }\r\n            },\r\n            error: function (jqXHR, textStatus, errorThrown) {\r\n                if (errCallback && typeof(errCallback) == \"function\")\r\n                {\r\n                    errCallback.apply(this, [textStatus]);\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\nexport default httpUtil;\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/httpUtil.js","/**\r\n * Created by heju on 2017/7/21.\r\n */\r\nimport globalUtil from \"../util/globalUtil\";\r\n\r\nexport default class Controller{\r\n    constructor(panel) {\r\n        this.panel = panel;\r\n        this.viewState = globalUtil.viewState;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/controller.js"],"sourceRoot":""}